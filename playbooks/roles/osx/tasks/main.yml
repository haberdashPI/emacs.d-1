---
- name: install packages on osx
  homebrew: name="{{ item }}" state="present"
  with_items:
    - coreutils
    - ctags
    - curl
    - dnsmasq
    - docker
    - dtrx
    - exiftool
    - faac
    - ffmpeg
    - findutils
    - git
    - gnupg2
    - gpg-agent
    - imagemagick
    - lastpass-cli
    - lua
    - netcat
    - nmap
    - ntfs-3g
    - p7zip
    - pass
    - pigz
    - privoxy
    - ranger
    - reattach-to-user-namespace
    - ruby-install
    - sshfs
    - syncthing
    - the_silver_searcher
    - tmate
    - tmux
    - unrar
    - wakeonlan
    - wget
    - youtube-dl
    - zsh

- name: set up the environment
  copy: src="com.santosvelasco.environment.plist" dest="{{ home }}/Library/LaunchAgents/com.santosvelasco.environment.plist"

- name: load environment launch agent
  command: "launchctl load -w ~/Library/LaunchAgents/com.santosvelasco.environment"
